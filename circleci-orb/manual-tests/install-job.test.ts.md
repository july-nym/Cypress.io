# Snapshot report for `manual-tests/install-job.test.ts`

The actual snapshot is saved in `install-job.test.ts.snap`.

Generated by [AVA](https://ava.li).

## install job

> with no parameters

    `version: 2␊
    jobs:␊
      cypress/install:␊
        docker:␊
        - image: cypress/base:10␊
        environment:␊
        - CYPRESS_CACHE_FOLDER: ~/.cache/Cypress␊
        steps:␊
        - checkout␊
        - restore_cache:␊
            keys:␊
            - cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
        - run:␊
            name: Install␊
            working_directory: ''␊
            command: "if [[ ! -z \\"\\" ]]; then\\n  echo \\"Installing using custom command\\"\\n  echo \\"\\"\\n  \\nelif [ \\"false\\" = \\"true\\" ]; then\\n  echo \\"Installing using Yarn\\"\\n  yarn install --frozen-lockfile\\nelif [ ! -e ./package-lock.json ]; then\\n  echo \\"The Cypress orb uses 'npm ci' to install 'node_modules', which requires a 'package-lock.json'.\\"\\n  echo \\"A 'package-lock.json' file was not found. Please run 'npm install' in your project,\\"\\n  echo \\"and commit 'package-lock.json' to your repo.\\"\\n  exit 1\\nelse\\n  echo \\"Installing dependencies using NPM ci\\"\\n  npm ci\\nfi\\n"␊
        - run:␊
            name: Verify Cypress␊
            command: npx cypress verify␊
            working_directory: ''␊
        - save_cache:␊
            key: cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
            paths:␊
            - ~/.npm␊
            - ~/.cache␊
        - persist_to_workspace:␊
            root: ~/␊
            paths:␊
            - project␊
            - .cache/Cypress␊
    workflows:␊
      build:␊
        jobs:␊
        - cypress/install␊
      version: 2␊
    

## install job 2

> with yarn true

    `version: 2␊
    jobs:␊
      cypress/install:␊
        docker:␊
        - image: cypress/base:10␊
        environment:␊
        - CYPRESS_CACHE_FOLDER: ~/.cache/Cypress␊
        steps:␊
        - checkout␊
        - restore_cache:␊
            keys:␊
            - cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
        - run:␊
            name: Install␊
            working_directory: ''␊
            command: "if [[ ! -z \\"\\" ]]; then\\n  echo \\"Installing using custom command\\"\\n  echo \\"\\"\\n  \\nelif [ \\"true\\" = \\"true\\" ]; then\\n  echo \\"Installing using Yarn\\"\\n  yarn install --frozen-lockfile\\nelif [ ! -e ./package-lock.json ]; then\\n  echo \\"The Cypress orb uses 'npm ci' to install 'node_modules', which requires a 'package-lock.json'.\\"\\n  echo \\"A 'package-lock.json' file was not found. Please run 'npm install' in your project,\\"\\n  echo \\"and commit 'package-lock.json' to your repo.\\"\\n  exit 1\\nelse\\n  echo \\"Installing dependencies using NPM ci\\"\\n  npm ci\\nfi\\n"␊
        - run:␊
            name: Verify Cypress␊
            command: npx cypress verify␊
            working_directory: ''␊
        - save_cache:␊
            key: cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
            paths:␊
            - ~/.cache␊
        - persist_to_workspace:␊
            root: ~/␊
            paths:␊
            - project␊
            - .cache/Cypress␊
    workflows:␊
      build:␊
        jobs:␊
        - cypress/install␊
      version: 2␊
    

## install job 3

> using custom install command

    `version: 2␊
    jobs:␊
      cypress/install:␊
        docker:␊
        - image: cypress/base:10␊
        environment:␊
        - CYPRESS_CACHE_FOLDER: ~/.cache/Cypress␊
        steps:␊
        - checkout␊
        - restore_cache:␊
            keys:␊
            - cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
        - run:␊
            name: Install␊
            working_directory: ''␊
            command: |␊
              if [[ ! -z "my own install command" ]]; then␊
                echo "Installing using custom command"␊
                echo "my own install command"␊
                my own install command␊
              elif [ "false" = "true" ]; then␊
                echo "Installing using Yarn"␊
                yarn install --frozen-lockfile␊
              elif [ ! -e ./package-lock.json ]; then␊
                echo "The Cypress orb uses 'npm ci' to install 'node_modules', which requires a 'package-lock.json'."␊
                echo "A 'package-lock.json' file was not found. Please run 'npm install' in your project,"␊
                echo "and commit 'package-lock.json' to your repo."␊
                exit 1␊
              else␊
                echo "Installing dependencies using NPM ci"␊
                npm ci␊
              fi␊
        - run:␊
            name: Verify Cypress␊
            command: npx cypress verify␊
            working_directory: ''␊
        - save_cache:␊
            key: cache-{{ arch }}-{{ .Branch }}-{{ checksum "package.json" }}␊
            paths:␊
            - ~/.npm␊
            - ~/.cache␊
        - persist_to_workspace:␊
            root: ~/␊
            paths:␊
            - project␊
            - .cache/Cypress␊
    workflows:␊
      build:␊
        jobs:␊
        - cypress/install␊
      version: 2␊
    `